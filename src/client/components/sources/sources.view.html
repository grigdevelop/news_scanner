<div class="row">
    <div class="col">

        <table class="table table-bordered table-hover">
            <thead>
            <tr>
                <th>Title</th>
                <th>Url</th>
                <th>Encoding</th>
                <th>Actions</th>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="source in sources">
                <td> {{ source.title }} </td>
                <td> {{ source.url }} </td>
                <td> {{ source.encoding }} </td>
                <td>
                    <button ng-click="startUpdateSource(source)" class="btn btn-sm">update</button>
                    <button class="btn btn-sm">delete</button>
                    <button class="btn btn-sm">scan</button>
                </td>
            </tr>
            </tbody>

        </table>

        <button class="btn btn-sm" data-toggle="modal" data-target="#formModal">create</button>

    </div>


</div>

<div class="modal fade" id="formModal" tabindex="-1" role="dialog" aria-labelledby="formModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <form ng-submit="saveSource()">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="formModalLabel">Source</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="title" class="small">Title</label>
                                <input id="title"
                                       ng-model="editingSource.title"
                                       type="text"
                                       class="form-control form-control-sm"/>
                            </div>
                            <div class="form-group">
                                <label for="url" class="small">Url</label>
                                <input id="url"
                                       type="text"
                                       ng-model="editingSource.url"
                                       class="form-control form-control-sm"/>
                            </div>
                            <div class="form-group">
                                <label for="encoding" class="small">Encoding</label>
                                <select id="encoding"
                                        ng-model="editingSource.encoding"
                                        class="form-control form-control-sm">
                                    <option>utf8</option>
                                    <option>windows-1252</option>
                                </select>
                            </div>
                        </div>
                        <div class="col">
                            <div ng-repeat="sourceQuery in editingSource.queries">
                                <button type="button" class="close" ng-click="removeSourceQuery(sourceQuery)">
                                    <span aria-hidden="true">Ã—</span>
                                </button>
                                <div class="form-group">
                                    <label for="url-selector-{{$index}}" class="small">Url selector</label>
                                    <input id="url-selector-{{$index}}"
                                           ng-model="sourceQuery.urlQuery"
                                           class="form-control form-control-sm"
                                           type="text"/>
                                </div>
                                <div class="form-group">
                                    <label for="text-selector-{{$index}}" class="small">Text selector</label>
                                    <input id="text-selector-{{$index}}"
                                           ng-model="sourceQuery.textQuery"
                                           class="form-control form-control-sm"
                                           type="text"/>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox"
                                           ng-model="sourceQuery.relative"
                                           class="form-check-input small"
                                           id="relative-{{$index}}">
                                    <label class="form-check-label small" for="relative-{{$index}}">Relative</label>
                                </div>
                                <hr/>
                            </div>
                            <button class="btn btn-sm btn-primary"
                                    type="button"
                                    ng-click="addSourceQuery()">Add selector</button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </form>
    </div>
</div>